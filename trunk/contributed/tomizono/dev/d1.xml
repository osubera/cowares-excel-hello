<?xml version="1.0" encoding="UTF-8"?>
<Module>
  <ModulePrefs title="xxx helloooo" scrolling="true">
    <Require feature="setprefs" />
  </ModulePrefs>
  <UserPref name="q" display_name="Clip" datatype="string" default_value="scratch and keep" />
  <Content type="html" view="home,profile,default,canvas,preview">
    <![CDATA[
      <style type="text/css">
        #kontena__MODULE_ID__{margin:0;padding:0;}
        atextarea{background-color:yellow;width:100%;height:100%;overflow:auto;}
      </style>
      <div id="kontena__MODULE_ID__">
        <form>
          <input type="text" name="url" id="url__MODULE_ID__" />
          <input type="button" name="enter" id="enter__MODULE_ID__" />
          <br/>
          <textarea id="text__MODULE_ID__">
          </textarea>
        </form>
      </div>
      <script type="text/javascript">
        // Copyright (c) 2011 Fortitudinous, Free, Fair cowares.nobody.jp
        (function(){
          var urlbox = document.getElementById('url__MODULE_ID__');
          var enterpush = document.getElementById('enter__MODULE_ID__');
          var textarea = document.getElementById('text__MODULE_ID__');
          
          urlbox.onchange = requesturl;
          
          function requesturl() {
            request(urlbox.value);
          }
          
          function request(url) {
            var params = {};
            params[gadgets.io.RequestParameters.CONTENT_TYPE] = gadgets.io.ContentType.TEXT;
            gadgets.io.makeRequest(url, response, params);
          }
          
          function response(obj) {
            textarea.value = obj.text;
          };
          
          function main() {
          };
          
          gadgets.util.registerOnLoadHandler(main);
        })();
      </script>
    ]]>
  </Content>
</Module>